## 摩拜单车小程序技术演变

#### 1. 组件化

#### 2. 构建系统

具体后面的章节【小程序的组件化开发】

#### 3. 跨页面通信

1. 使用 `getApp()` 可以用来获取到小程序实例的全局函数
2. 使用 `getCurrentPages()` 查找对应页面对象，函数用于获取当前页面栈的实例，以数组形式按栈的顺序给出，第一个元素为首页，最后一个元素为当前页面。
3. `broadcast.js` 自行封装的一个 js 库，作为统一的事件广播触发机制  --- 最终的一个解决方案

    > 既精简了代码，也避免侵入 getApp() 对象。适当的时候，注册广播时需要绑定 this 值。

#### 4. web-view

关于 web-view 的描述请见【小程序的跨端能力】章节

#### 5. CDN

小程序在发布分包加载功能之前，包大小一直被限制在 2MB 以内，随着小程序功能越来越丰富，体积也随之变大，眼看就要超过体积限制。除了对资源压缩优化，我们需要将一些图片资源远程化。

关于上传 CDN 构建流程的描述请见【小程序项目构建】章节。
